<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Dead God Guide</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		@font-face {
			font-family: 'isaac';
			/*a name to be used later*/
			src: url('./resources/fonts/upheavtt.ttf');
			/*URL to font*/
		}

		b {
			font-weight: bold;
			font-family: 'isaac';
		}

		body {
			font-family: Arial, sans-serif;
			background: #cec5ad;
			margin: 0;
			padding: 2em;
			background-image: url("./resources/images/background.jpg");
		}

		.container {
			max-width: 400px;
			margin: auto;
			/* background: #fff; */
			padding: 2em;
			border-radius: 8px;
			box-shadow: 0 2px 8px #0001;
		}

		h1 {
			text-align: center;
		}

		ul {
			list-style: none;
			padding: 0;
		}

		li {
			margin: 1em 0;
		}

		label {
			cursor: pointer;
		}

		input[type="checkbox"] {
			margin-right: 1em;
		}

		.hidden {
			display: none;
		}
	</style>
</head>

<body>

	<div class="container">
		<h1>Dead God Guide</h1>
		<p>This guide will help you navigate through the steps to defeat the Dead God. Follow each step in order, and check
			them off as you complete them. Your progress will be saved automatically.</p>

		<title>Contents</title>
		<ul>
			<li>
				<a href="" target="_blank">Miscellaneous Unlocks</a> - things you should always prioritize if given the
				opportunity
			</li>
			<li>
				<a href="" target="_blank">Daily Runs</a> - long unlocks that take a while to do
			</li>
			<li>
				<a href="" target="_blank">Things to avoid</a> - unlocks that are not great or actively bad
			</li>
			<li>
				<a href="" target="_blank">Runes to unlock first</a> - getting 6 runes unlocked prevents rune shard from
				spawning
			</li>
			<li>
				<a href="" target="_blank">Challenges to finish asap when unlocked</a> - some of the good challenges unlocked
				by default
			</li>
			<li>
				<a href="" target="_blank">Early progression/mechanic unlocks</a> - things needed to unlock most other
				stuff/very useful mechanics to unlock
			</li>
			<li>
				<a href="" target="_blank">Character Unlocks</a> - unlocking most regular characters is first big priority
			</li>
			<li>
				<a href="" target="_blank">Early Completion Marks</a> - strong unlocks that will help you win more runs, after
				you unlock <code>It Lives but</code> before unlocking Keeper/Lost's Holy Mantle
			</li>
			<li>
				<a href="" target="_blank">Tainted Character Unlocks</a> - should be done once most regular characters/strong
				items are unlocked and while defeating The Beast with all regular characters
			</li>
			<li>
				<a href="" target="_blank">Greed(ier) Mode</a> - greed mode can be done whenever, greedier should wait till
				most strong items/tainted characters are unlocked
			</li>
			<li>
				<a href="" target="_blank">Miscellaneous Unlocks 2</a> - unlocks that aren't super important, but should be
				paid attention to as they are more rare opportunities
			<li>
				<a href="" target="_blank">Later Completion Marks</a> - includes Keeper/Lost and all Tainted Character
			</li>
		</ul>
	</div>


	<div class="container">
		<h1>Checklist</h1>
		<ul id="checklist">
			<li>
				<label>
					<input type="checkbox" data-step="0">
					<b>Donation Machine</b> you should prioritize upgrading your donation machine to get consistently better shops
					for all your runs.
				</label>
			</li>
			<li class="hidden">
				<label>
					<input type="checkbox" data-step="1">
					<b>The Lost</b> dying in a sacrifice room while holding Missing Poster (don't need to die to spikes
					specifically)
				</label>
			</li>
			<li class="hidden">
				<label>
					<input type="checkbox" data-step="2">
					<b>Ace of Clubs</b> win three runs in a row
				</label>
		</ul>
	</div>
	<script>
		const checklist = document.getElementById('checklist');
		const steps = checklist.querySelectorAll('input[type="checkbox"]');
		const STORAGE_KEY = 'checklist-progress';

		// Load progress from localStorage
		function loadProgress() {
			const saved = localStorage.getItem(STORAGE_KEY);
			if (!saved) return;
			const checkedSteps = JSON.parse(saved);
			steps.forEach((checkbox, idx) => {
				checkbox.checked = !!checkedSteps[idx];
				// Show step if previous is checked
				if (idx === 0 || checkedSteps[idx - 1]) {
					checkbox.closest('li').classList.remove('hidden');
				} else {
					checkbox.closest('li').classList.add('hidden');
				}
			});
		}

		// Save progress to localStorage
		function saveProgress() {
			const checkedSteps = Array.from(steps).map(cb => cb.checked);
			localStorage.setItem(STORAGE_KEY, JSON.stringify(checkedSteps));
		}

		checklist.addEventListener('change', function (e) {
			if (e.target.matches('input[type="checkbox"]')) {
				const step = parseInt(e.target.getAttribute('data-step'), 10);
				if (e.target.checked) {
					const nextLi = checklist.querySelector(`li:nth-child(${step + 2})`);
					if (nextLi) nextLi.classList.remove('hidden');
				} else {
					// Unchecking hides all later steps
					for (let i = step + 1; i < checklist.children.length; i++) {
						checklist.children[i].classList.add('hidden');
						checklist.children[i].querySelector('input').checked = false;
					}
				}
				saveProgress();
			}
		});

		// Initialize checklist on page load
		loadProgress();
	</script>
</body>

</html>